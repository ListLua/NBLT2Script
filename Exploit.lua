local player = game.Players.LocalPlayer
local MarketplaceService = game:GetService("MarketplaceService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local functions = {}

local mouse = player:GetMouse()

local SETTINGS = {
	gamepass_required = 118656076
}

local connections = {}

local RefreshButton = nil

local WelcomeWords = {
	"Welcome!",
	"Greetings!",
	"Good Day!",
	"Hi!"
}

local ui = Instance.new("ScreenGui")
ui.Parent = game.CoreGui

task.wait(1)

functions.UIStroke = function(Parent, ApplyStrokeMode : Enum.ApplyStrokeMode, Color : Color3, Thickness : number, Transparency : number)
	local UIStroke = Instance.new("UIStroke")
	UIStroke.ApplyStrokeMode = ApplyStrokeMode
	UIStroke.Color = Color
	UIStroke.Thickness = Thickness
	UIStroke.Transparency = Transparency
	UIStroke.Parent = Parent
end

functions.Tween = function(object,tween_info,stuff,ShouldWait)
	local t = TweenService:Create(object,tween_info,stuff)
	t:Play()
	if ShouldWait then t.Completed:Wait() end
end

functions.UICorner = function(UI, CornerUDim : UDim)
	local UICorner = Instance.new("UICorner")
	UICorner.CornerRadius = CornerUDim
	UICorner.Parent = UI
end

functions.ButtonClickEffect = function(button : TextButton)
	button.ClipsDescendants = true
	button.MouseButton1Click:Connect(function()
		local AbsolutePosition_button = button.AbsolutePosition
		local position_mouse = Vector2.new(mouse.X,mouse.Y)

		local relative = position_mouse - AbsolutePosition_button

		local frame = Instance.new("Frame")
		frame.Position = UDim2.new(0,relative.X,0,relative.Y)
		frame.Size = UDim2.new(0,0,0,0)
		frame.BackgroundColor3 = Color3.new(1,1,1)
		frame.BorderSizePixel = 0
		frame.AnchorPoint = Vector2.new(0.5,0.5)
		frame.Parent = button
		
		functions.UICorner(frame,UDim.new(1,0))
		
		functions.Tween(frame,TweenInfo.new(0.5),{Size = UDim2.new(0.5,0,3,0), Transparency = 1},true)
		frame:Destroy()
	end)
end

	local _main = Instance.new("Frame")
	_main.BackgroundColor3 = Color3.fromRGB(48,48,48)
_main.BorderSizePixel = 0
_main.AnchorPoint = Vector2.new(0.5,0.5)
	_main.Size = UDim2.new(0.24,0,0.273,0)
	_main.Position = UDim2.new(0.5,0,0.5,0)
_main.Parent = ui

local UIAspectRatioConstraint = Instance.new("UIAspectRatioConstraint")
UIAspectRatioConstraint.AspectRatio = 2.006
UIAspectRatioConstraint.AspectType = Enum.AspectType.ScaleWithParentSize
UIAspectRatioConstraint.DominantAxis = Enum.DominantAxis.Height
UIAspectRatioConstraint.Parent = _main
	
	local GamepassRequired = Instance.new("Frame")
	GamepassRequired.BackgroundTransparency = 1
	GamepassRequired.Size = UDim2.new(1,0,1,0)
	GamepassRequired.Position = UDim2.new(0,0,0,0)
	GamepassRequired.Parent = _main
GamepassRequired.Visible = false

local ERORR = Instance.new("Frame")
ERORR.Name = "Erorr"
ERORR.Position = UDim2.new(0,0,0,0)
ERORR.Size = UDim2.new(1,0,1,0)
ERORR.Visible = false
ERORR.BackgroundTransparency = 1
ERORR.Parent = _main

local ErorrMessage = Instance.new("TextLabel")
ErorrMessage.Position = UDim2.new(0,0,0,0)
ErorrMessage.Size = UDim2.new(1,0,1,0)
ErorrMessage.BackgroundTransparency = 1
ErorrMessage.TextScaled = true
ErorrMessage.Text = "ðŸ˜¥"
ErorrMessage.Parent = ERORR

	
	local LINE = Instance.new("Frame")
	LINE.BackgroundColor3 = Color3.new(1,1,1)
	LINE.BorderSizePixel = 0
	LINE.BackgroundTransparency = 1
	LINE.Position = UDim2.new(0.04,0,0.276,0)
	LINE.Size = UDim2.new(0,0,0.012,0)
	LINE.Parent = GamepassRequired
	
	local HelloTextLabel = Instance.new("TextLabel")
HelloTextLabel.BackgroundTransparency = 1
HelloTextLabel.TextColor3 = Color3.new(1,1,1)
HelloTextLabel.TextXAlignment = Enum.TextXAlignment.Left
HelloTextLabel.FontFace = Font.new("rbxasset://fonts/families/Nunito.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
	HelloTextLabel.TextTransparency = 1
	HelloTextLabel.Size = UDim2.new(0.826,0,0.227,0)
	HelloTextLabel.Position = UDim2.new(0.041,0,0.049,0)
HelloTextLabel.Text = "Hello"
HelloTextLabel.TextScaled = true
	HelloTextLabel.Parent = GamepassRequired
	
	local ErorrTextLabel = Instance.new("TextLabel")
	ErorrTextLabel.BackgroundTransparency = 1
ErorrTextLabel.TextTransparency = 1
ErorrTextLabel.TextColor3 = Color3.new(1,1,1)
ErorrTextLabel.FontFace = Font.new("rbxasset://fonts/families/Nunito.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
	ErorrTextLabel.Size = UDim2.new(0.826,0,0.282,0)
ErorrTextLabel.Position = UDim2.new(0.087,0,0.313,0)
ErorrTextLabel.TextScaled = true
	ErorrTextLabel.Text = "You don't have gamepass, please buy it to access this script."
	ErorrTextLabel.Parent = GamepassRequired
	
	local GamepassIDTextLabel = Instance.new("TextLabel")
	GamepassIDTextLabel.BackgroundTransparency = 1
GamepassIDTextLabel.TextTransparency = 1
GamepassIDTextLabel.TextColor3 = Color3.new(1,1,1)
GamepassIDTextLabel.FontFace = Font.new("rbxasset://fonts/families/Nunito.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
	GamepassIDTextLabel.Size = UDim2.new(0.826,0,0.129,0)
GamepassIDTextLabel.Position = UDim2.new(0.087,0,0.595,0)
GamepassIDTextLabel.TextScaled = true
	GamepassIDTextLabel.Text = "ID Gamepass: "..SETTINGS.gamepass_required
	GamepassIDTextLabel.Parent = GamepassRequired
	
	RefreshButton = Instance.new("TextButton")
	RefreshButton.BackgroundColor3 = Color3.fromRGB(85,85,225)
	RefreshButton.BorderSizePixel = 0
RefreshButton.Visible = false
RefreshButton.Text = ""
RefreshButton.AutoButtonColor = false
	RefreshButton.Size = UDim2.new(0.471,0,0.172,0)
	RefreshButton.Position = UDim2.new(0.263,0,0.761,0)
RefreshButton.Parent = GamepassRequired

local TextRefreshButton = Instance.new("TextLabel")
TextRefreshButton.BackgroundTransparency = 1
TextRefreshButton.TextScaled = true
TextRefreshButton.TextColor3 = Color3.new(1,1,1)
TextRefreshButton.FontFace = Font.new("rbxasset://fonts/families/Nunito.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
TextRefreshButton.Text = "Refresh"
TextRefreshButton.Position = UDim2.new(0,0,0,0)
TextRefreshButton.Size = UDim2.new(1,0,1,0)
TextRefreshButton.Parent = RefreshButton
	
	functions.UIStroke(RefreshButton,Enum.ApplyStrokeMode.Border,Color3.new(1,1,1),1,0)
	functions.UIStroke(_main,Enum.ApplyStrokeMode.Border,Color3.new(1,1,1),1,0)
functions.UICorner(_main,UDim.new(0,8))
functions.UICorner(RefreshButton,UDim.new(0,5))
functions.ButtonClickEffect(RefreshButton)

function ERORRFunction(erorr)
	warn("NBLT2 script: "..erorr)

	ERORR.Visible = true
end

functions.setup = function()
	if connections["REFRESHBUTTONCONNECTION"] then
		connections["REFRESHBUTTONCONNECTION"] = nil
	end
	GamepassRequired.Visible = false
	local MainTab = Instance.new("Frame")
	MainTab.Size = UDim2.new(1,0,1,0)
	MainTab.Position = UDim2.new(0,0,0,0)
	MainTab.BackgroundTransparency = 1
	MainTab.Parent = _main

	local WelcomeMessage = Instance.new("TextLabel")
	WelcomeMessage.Position = UDim2.new(0.279,0,0.387,0)
	WelcomeMessage.Size = UDim2.new(0.439,0,0.22,0)
	WelcomeMessage.BackgroundTransparency = 1
	WelcomeMessage.TextTransparency = 1
	WelcomeMessage.TextScaled = true
	WelcomeMessage.TextColor3 = Color3.new(1,1,1)
	WelcomeMessage.Text = WelcomeWords[math.random(1,#WelcomeWords)]
	WelcomeMessage.FontFace = Font.new("rbxasset://fonts/families/Nunito.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
	WelcomeMessage.Parent = MainTab
	
	functions.Tween(_main,TweenInfo.new(0.5),{Size = UDim2.new(_main.Size.X.Scale,0,0.38,0)},true)
	functions.Tween(WelcomeMessage,TweenInfo.new(0.5),{TextTransparency = 0}) task.wait(3)
	WelcomeMessage.Visible = false
	
	local LogoTextLabel = Instance.new("TextLabel")
	LogoTextLabel.Position = UDim2.new(0.046,0,0,0)
	LogoTextLabel.Size = UDim2.new(0.952,0,0.079,0)
	LogoTextLabel.BackgroundTransparency = 1
	LogoTextLabel.TextXAlignment = Enum.TextXAlignment.Left
	LogoTextLabel.TextTransparency = 1
	LogoTextLabel.TextScaled = true
	LogoTextLabel.TextColor3 = Color3.new(1,1,1)
	LogoTextLabel.Text = "National bank of Lumber Tycoon 2"
	LogoTextLabel.FontFace = Font.new("rbxasset://fonts/families/Sarpanch.json",Enum.FontWeight.Regular,Enum.FontStyle.Normal)
	LogoTextLabel.Parent = MainTab
	
	local Line1 = Instance.new("Frame")
	Line1.BackgroundColor3 = Color3.new(1,1,1)
	Line1.BorderSizePixel = 0
	Line1.Size = UDim2.new(0,0,0.009,0)
	Line1.Position = UDim2.new(0,0,0.079,0)
	Line1.Parent = MainTab
	
	local Line2 = Instance.new("Frame")
	Line2.BackgroundColor3 = Color3.new(1,1,1)
	Line2.BorderSizePixel = 0
	Line2.Size = UDim2.new(0.007,0,0,0)
	Line2.Position = UDim2.new(0.285,0,0.088,0)
	Line2.Parent = MainTab

	functions.Tween(Line1,TweenInfo.new(0.5),{Size = UDim2.new(1,0,0.009,0)})
	functions.Tween(Line2,TweenInfo.new(0.5),{Size = UDim2.new(0.007,0,0.912,0)})
	functions.Tween(LogoTextLabel,TweenInfo.new(0.5),{TextTransparency = 0})
end

functions.UserNotOwnsGamePass = function()
	if RefreshButton then
		local REFRESHBUTTONCONNECTION = nil
		
		REFRESHBUTTONCONNECTION = RefreshButton.MouseButton1Click:Connect(function()
			local id = player.UserId

			if MarketplaceService:UserOwnsGamePassAsync(id,SETTINGS.gamepass_required) then
				functions.setup()
			end
		end)
		
		table.insert(connections,REFRESHBUTTONCONNECTION)
		GamepassRequired.Visible = true
		functions.Tween(HelloTextLabel,TweenInfo.new(1),{TextTransparency = 0}) task.wait(0.2)
		functions.Tween(LINE,TweenInfo.new(1),{BackgroundTransparency = 0})
		functions.Tween(LINE,TweenInfo.new(1),{Size = UDim2.new(0.737,0,0.012,0)})
		task.wait(0.2)
		functions.Tween(ErorrTextLabel,TweenInfo.new(1),{TextTransparency = 0}) task.wait(0.2)
		functions.Tween(GamepassIDTextLabel,TweenInfo.new(1),{TextTransparency = 0}) task.wait(0.2)
		RefreshButton.Visible = true
	end
end

functions.CheckForGamepass = function()
	local id = player.UserId
	
	task.wait(0.5)
	
	local success, failed = pcall(function()
	
	if MarketplaceService:UserOwnsGamePassAsync(id,SETTINGS.gamepass_required) then
		functions.setup()
	else
		functions.UserNotOwnsGamePass()
		end
	end)
	
	if not success then
	ERORRFunction(failed)
	end
end

UserInputService.InputBegan:Connect(function(key)
	if key.KeyCode == Enum.KeyCode.RightShift then
		_main.Visible = not _main.Visible
	end
end)

functions.CheckForGamepass()